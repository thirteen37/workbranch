{
  "description": "Workbranch hooks: Soft-remind on git commits to verify branch",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "You must return ONLY valid JSON. No other text.\n\nCommand: $TOOL_INPUT\n\nIf this command contains 'git commit':\n{\"hookSpecificOutput\":{\"permissionDecision\":\"ask\"},\"systemMessage\":\"Committing - verify you're on a feature branch, not main/master. Use /workbranch to create a worktree if needed.\"}\n\nIf this command does NOT contain 'git commit':\n{\"hookSpecificOutput\":{\"permissionDecision\":\"allow\"}}\n\nRespond with ONLY the JSON. No explanation.",
            "timeout": 15
          }
        ]
      }
    ]
  }
}
